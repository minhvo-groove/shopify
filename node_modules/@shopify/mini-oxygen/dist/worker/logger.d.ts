import { Protocol } from 'devtools-protocol';
import { SourceMapConsumer } from 'source-map';
import { InspectorConnection } from './inspector.js';
import 'ws';

declare function addInspectorConsoleLogger(inspector: InspectorConnection): void;
declare function createErrorFromException(exceptionDetails: Protocol.Runtime.ExceptionDetails, inspector: InspectorConnection): Promise<Error>;
declare function createErrorFromLog(ro: Protocol.Runtime.RemoteObject, inspector: InspectorConnection): Promise<Error>;
/**
 * Converts a structured-error to a friendly, source-mapped error string.
 * @param sourceMapConsumer source-map to use for mapping locations
 * @param message first line of stack trace (e.g. `Error: message`)
 * @param frames structured stack entries for error location
 */
declare function formatStructuredError(sourceMapConsumer: SourceMapConsumer, message?: string, frames?: Protocol.Runtime.CallFrame[]): string;
/**
 * Converts an unstructured-stack to a friendly, source-mapped error string.
 * @param sourceMapConsumer source-map to use for mapping locations
 * @param stack string stack trace from `Error#stack`
 */
declare function formatStack(sourceMapConsumer: SourceMapConsumer, stack: string): string;

export { addInspectorConsoleLogger, createErrorFromException, createErrorFromLog, formatStack, formatStructuredError };
